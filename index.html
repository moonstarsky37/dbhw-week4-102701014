<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- http://jquery.com/download/ -->
  <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/lodash/4.6.1/lodash.min.js"></script>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <!-- fontawesome -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  <script src="js/main.js"></script>
  <link rel="stylesheet" href="css/css.css">
  <title>高雄景點一覽</title>



</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">高雄</a>
    </div>
  </div>
</nav>

<div class="jumbotron">
  <div class="container">
    <br>
    <br>
    <h1>高雄景點</h1>
    <h3>為解決跨<a href="http://jimmy319.blogspot.tw/2013/09/javascript-xhr-cross-domain-request-is.html" target="_blank">前端跨網域存取問題</a>，請在Chrome瀏覽器下執行Allow-Control-Allow-Origin</h3>
    <h3>可點此下載Chrome Extension Allow-Control-Allow-Origin<a href="https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi?hl=zh-TW" target="_blank"><img src="https://ssl.gstatic.com/chrome/webstore/images/thumb.png" style="font-size:30px;"></a></h3>
  </div>
</div>


<div class="container">
  <div id="content" class="row"></div>
  <div class="sk-wandering-cubes">
    <div class="sk-cube sk-cube1"></div>
    <div class="sk-cube sk-cube2"></div>
  </div>
  <hr>
  <footer>
    <p>&copy; 2016 http://data.kaohsiung.gov.tw/Opendata</p>
  </footer>
</div>


<script type="text/javascript">
  $(document).ready(function(){
    getData(function (err,data) {
      if(err) {
        console.log(err);
      } else{
        var dataList = JSON.parse(data);//https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse
        var HTMLdataList = dataList.map(function(divdata){
          var location = "https://www.google.com.tw/maps/place/" +divdata.Name;
          var HTMLString = "<div class='col-xs-4 drop-"+(Math.round(Math.random()*10000%3)+1)+"'><ul class='nav nav-tabs'><a href='https://www.google.com.tw/maps/place/"+divdata.Name+"' target='_blank' style='text-align: center'><br><img src='http://i.stack.imgur.com/LU782.png' width='30' height='30'></a><li class='dropdown'><a class='dropdown-toggle' data-toggle='dropdown' href='#'>"+divdata.Name+"<br>";
          var items = "<ul class='dropdown-menu'>";
          for (var key in divdata){
            if(key=="Picture1"){
              HTMLString = HTMLString + "<img src='"+divdata[key]+"'width='200' height='200'><span class='caret'></span></a>";
            }
            if(key=="Description" || key=="Tel" || key=="Add"){
              items = items +"<li class='list-group-item'><p class='detail' '>"+key+":"+divdata[key]+"</p></li>";
            }
          }//end for key in divdata
          var HTMLString = HTMLString+items+"</ul></p></div>";
          return HTMLString;
        });//end map fcn
        HTMLdataList.forEach(function (html) {
          $(html).appendTo("#content");
        });//end for each
        $('.sk-cube-grid').css('display','none');
      }
    });//end getData fcn
  });//end ready fcn
</script>

</body>
</html>
